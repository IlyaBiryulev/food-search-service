(function(){"use strict";var e={675:function(e,t,s){var a=s(963),n=s(252);const i={class:"app__content"};function l(e,t,s,a,l,r){const o=(0,n.up)("NavTabVue"),c=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(o),(0,n.Wm)(c)])}const r={class:"navtab"},o={class:"navtab__btn-wrapper"},c=(0,n._)("button",{class:"navtab__btn"}," Список заведений ",-1),u=(0,n._)("button",{class:"navtab__btn"}," Главная ",-1);function d(e,t,s,a,i,l){const d=(0,n.up)("router-link"),p=(0,n.up)("cafe-list"),_=(0,n.up)("my-dialog");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",o,["/"===this.$route.path?((0,n.wg)(),(0,n.j4)(d,{key:0,to:"/places",class:"navtab__link"},{default:(0,n.w5)((()=>[c])),_:1})):"/places"===this.$route.path?((0,n.wg)(),(0,n.j4)(d,{key:1,to:"/",class:"navtab__link"},{default:(0,n.w5)((()=>[u])),_:1})):(0,n.kq)("",!0),(0,n._)("button",{class:"navtab__btn",onClick:t[0]||(t[0]=(...e)=>l.showDialog&&l.showDialog(...e))},"Случайный выбор"),(0,n.Wm)(_,{show:i.dialogVisible,"onUpdate:show":t[1]||(t[1]=e=>i.dialogVisible=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{posts:a.randomPosts},null,8,["posts"])])),_:1},8,["show"])])])}const p={key:0,class:"dialog"},_={class:"dialog__content"};function m(e,t,s,a,i,l){return s.show?((0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("div",_,[(0,n._)("button",{class:"dialog__close-btn",onClick:t[0]||(t[0]=(...e)=>l.hideDialog&&l.hideDialog(...e))}),(0,n.WI)(e.$slots,"default")])])):(0,n.kq)("",!0)}var v={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}},h=s(744);const f=(0,h.Z)(v,[["render",m]]);var g=f,w=s(154),b=s(262);function y(e,t){return Math.floor(Math.random()*(t-e)+e)}function k(){const e=(0,b.iH)([]),t=async()=>{try{const t=await w.Z.get(`https://bandaumnikov.ru/api/test/site/get-view?id=${y(1,23)}`);e.value=t.data}catch(t){alert("Ошибка")}};return(0,n.Xn)(t),{randomPosts:e}}var D=s(577);const S=["src","alt"],V={class:"cafe-list__cuption"},O={class:"cafe-list__item"},P={class:"cafe-list__title"},Z={class:"cafe-list__item"},j={key:0,class:"cafe-list__cuisine"},x={key:1,class:"cafe-list__cuisine"},C={class:"cafe-list__item"},W={key:0,class:"cafe-list__address"},z={key:1,class:"cafe-list__address"},H={class:"cafe-list__info"},I={key:0,class:"cafe-list__lunch"},A=(0,n._)("span",{class:"cafe-list__span"},"Есть",-1),U={key:1,class:"cafe-list__lunch"},$=(0,n._)("span",{class:"cafe-list__span"},"Нет",-1),N={key:2,class:"cafe-list__price"},Q=(0,n._)("span",{class:"cafe-list__span"},"-",-1),F={key:3,class:"cafe-list__price"},K={class:"cafe-list__span"};function L(e,t,s,a,i,l){return(0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.posts,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"cafe-list__items",key:e.id},[(0,n._)("img",{src:e.photo,alt:e.name,class:"cafe-list__img"},null,8,S),(0,n._)("ul",V,[(0,n._)("li",O,[(0,n._)("h2",P,(0,D.zw)(e.name),1)]),(0,n._)("li",Z,[e.cuisine?((0,n.wg)(),(0,n.iD)("p",j," Кухня: "+(0,D.zw)(e.cuisine),1)):((0,n.wg)(),(0,n.iD)("p",x," Кухня: Разнообразная "))]),(0,n._)("li",C,[e.address?((0,n.wg)(),(0,n.iD)("p",W,(0,D.zw)(e.address),1)):((0,n.wg)(),(0,n.iD)("p",z," Адрес смотрите на картке по названию "))])]),(0,n._)("div",H,[e.business_lunch?((0,n.wg)(),(0,n.iD)("p",I,[(0,n.Uk)(" Бизнес ланч: "),A])):((0,n.wg)(),(0,n.iD)("p",U,[(0,n.Uk)(" Бизнес ланч: "),$])),0===e.price?((0,n.wg)(),(0,n.iD)("p",N,[(0,n.Uk)(" Средний чек: "),Q])):((0,n.wg)(),(0,n.iD)("p",F,[(0,n.Uk)("Средний чек: "),(0,n._)("span",K,(0,D.zw)(e.price),1)]))])])))),128)}var T={props:{posts:{type:Array,required:!0}}};const Y=(0,h.Z)(T,[["render",L]]);var q=Y,M={components:{MyDialog:g,CafeList:q},data(){return{dialogVisible:!1}},setup(e){const{randomPosts:t}=k();return{randomPosts:t}},methods:{showDialog(){this.dialogVisible=!0}}};const E=(0,h.Z)(M,[["render",d]]);var B=E,X={components:{NavTabVue:B}};const G=(0,h.Z)(X,[["render",l]]);var J=G;const R=["value"],ee=(0,n._)("option",{disabled:"",value:""},"Выберите из списка",-1),te=["value"];function se(e,t,s,a,i,l){return(0,n.wg)(),(0,n.iD)("select",{value:s.modelValue,onChange:t[0]||(t[0]=(...e)=>l.changeOption&&l.changeOption(...e)),class:"select"},[ee,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.options,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.value,value:e.value},(0,D.zw)(e.name),9,te)))),128))],40,R)}var ae={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{changeOption(e){this.$emit("update:modelValue",e.target.value)}}};const ne=(0,h.Z)(ae,[["render",se]]);var ie=ne;const le=["value"];function re(e,t,s,a,i,l){return(0,n.wg)(),(0,n.iD)("input",{value:s.modelValue,onInput:t[0]||(t[0]=(...e)=>l.updateInput&&l.updateInput(...e)),class:"input",type:"text"},null,40,le)}var oe={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const ce=(0,h.Z)(oe,[["render",re],["__scopeId","data-v-e66a13e4"]]);var ue=ce,de=[ie,ue,g];const pe={class:"main"},_e=(0,n._)("h1",{class:"main__title"},"FoodSearch",-1),me={class:"main-page"},ve={class:"main-page__list"},he=(0,n._)("li",{class:"main-page__list-item"},[(0,n._)("h2",{class:"main-page__list-title"},"Интерсные статьи о еде в Питере")],-1),fe=["href"];function ge(e,t,s,a,i,l){const r=(0,n.up)("slider");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",pe,[_e,(0,n._)("div",me,[(0,n.Wm)(r,{sliderData:a.posts,interval:8e3},null,8,["sliderData"]),(0,n._)("ul",ve,[he,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.items,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"main-page__list-item",key:e.id},[(0,n._)("a",{href:e.link,class:"main-page__link"},(0,D.zw)(e.name),9,fe)])))),128))])])])])}const we={class:"slider"};function be(e,t,s,a,i,l){const r=(0,n.up)("slider-item");return(0,n.wg)(),(0,n.iD)("div",we,[(0,n._)("div",{class:"slider__wrapper",style:(0,D.j5)({"margin-left":"-"+100*i.currentSlide+"%"})},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.sliderData,(e=>((0,n.wg)(),(0,n.j4)(r,{key:e.id,itemData:e},null,8,["itemData"])))),128))],4),(0,n._)("button",{onClick:t[0]||(t[0]=(...e)=>l.prevSlide&&l.prevSlide(...e)),class:"slider__btn slider__btn_prev"}),(0,n._)("button",{onClick:t[1]||(t[1]=(...e)=>l.nextSlide&&l.nextSlide(...e)),class:"slider__btn slider__btn_next"})])}const ye={class:"slider-item"},ke=["src","alt"],De={class:"slider-item__title"},Se={class:"slider-item__address"};function Ve(e,t,s,a,i,l){return(0,n.wg)(),(0,n.iD)("div",ye,[(0,n._)("img",{src:s.itemData.photo,alt:s.itemData.name,class:"slider-item__img"},null,8,ke),(0,n._)("p",De,(0,D.zw)(s.itemData.name),1),(0,n._)("p",Se,(0,D.zw)(s.itemData.address),1)])}var Oe={props:{itemData:{type:Object,default:()=>{}}}};const Pe=(0,h.Z)(Oe,[["render",Ve]]);var Ze=Pe,je={components:{SliderItem:Ze},props:{sliderData:{type:Array,default:()=>[]},interval:{type:Number,default:0}},data(){return{currentSlide:0}},methods:{prevSlide(){this.currentSlide>0&&this.currentSlide--},nextSlide(){this.currentSlide>=this.sliderData.length-1?this.currentSlide=0:this.currentSlide++}},mounted(){if(this.interval>0){let e=this;setInterval((function(){e.nextSlide()}),e.interval)}}};const xe=(0,h.Z)(je,[["render",be]]);var Ce=xe;function We(){const e=(0,b.iH)([]),t=async()=>{try{const t=await w.Z.get("https://bandaumnikov.ru/api/test/site/get-index");e.value=t.data.data}catch(t){alert("Ошибка")}};return(0,n.bv)(t),{posts:e}}var ze={components:{Slider:Ce},data(){return{items:[{id:1,link:"https://www.sobaka.ru/bars/chtogdeest/166947",name:"О барах"},{id:2,link:"https://www.sobaka.ru/bars/chtogdeest/166948",name:"О лучших ресторанах"},{id:3,link:"https://www.sobaka.ru/bars/chtogdeest/166930",name:"Главные гастрономические события лета"},{id:4,link:"https://www.sobaka.ru/bars/chtogdeest/166945",name:"Лучшие винные бары"},{id:5,link:"https://www.sobaka.ru/bars/chtogdeest/167375",name:"Гастрономические рынки"}],dialogVisible:!1}},setup(e){const{posts:t}=We();return{posts:t}}};const He=(0,h.Z)(ze,[["render",ge]]);var Ie=He;const Ae={class:"places"},Ue={class:"places__search-sort"};function $e(e,t,s,a,i,l){const r=(0,n.up)("my-input"),o=(0,n.up)("my-select"),c=(0,n.up)("cafe-list");return(0,n.wg)(),(0,n.iD)("div",Ae,[(0,n._)("div",Ue,[(0,n.Wm)(r,{modelValue:a.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>a.searchQuery=e),placeholder:"Поиск"},null,8,["modelValue"]),(0,n.Wm)(o,{modelValue:a.selectedSort,"onUpdate:modelValue":t[1]||(t[1]=e=>a.selectedSort=e),options:i.sortOptions},null,8,["modelValue","options"])]),(0,n.Wm)(c,{posts:a.sortedAndSearchedPosts},null,8,["posts"])])}function Ne(e){const t=(0,b.iH)(""),s=(0,n.Fl)((()=>"price"===t.value?[...e.value].sort(((e,s)=>e[t.value]-s[t.value])):"business_lunch"===t.value?[...e.value].sort(((e,s)=>Number(s[t.value])-Number(e[t.value]))):[...e.value]));return{selectedSort:t,sortedPosts:s}}function Qe(e){const t=(0,b.iH)(""),s=(0,n.Fl)((()=>e.value.filter((e=>e.name.toLowerCase().includes(t.value.toLowerCase())))));return{searchQuery:t,sortedAndSearchedPosts:s}}var Fe={components:{CafeList:q},data(){return{sortOptions:[{value:"business_lunch",name:"Сначала с бизнес ланчем"},{value:"price",name:"По цене"}]}},setup(e){const{posts:t}=We(),{sortedPosts:s,selectedSort:a}=Ne(t),{searchQuery:n,sortedAndSearchedPosts:i}=Qe(s);return{posts:t,sortedPosts:s,selectedSort:a,searchQuery:n,sortedAndSearchedPosts:i}}};const Ke=(0,h.Z)(Fe,[["render",$e]]);var Le=Ke,Te=s(201);const Ye=[{path:"/",component:Ie},{path:"/places",component:Le}],qe=(0,Te.p7)({routes:Ye,history:(0,Te.PO)("/food-search-service/")});var Me=qe;const Ee=(0,a.ri)(J);de.forEach((e=>{Ee.component(e.name,e)})),Ee.use(Me).mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,i){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],i=e[u][2];for(var r=!0,o=0;o<a.length;o++)(!1&i||l>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[o])}))?a.splice(o--,1):(r=!1,i<l&&(l=i));if(r){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,n,i]}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,i,l=a[0],r=a[1],o=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(o)var u=o(s)}for(t&&t(a);c<l.length;c++)i=l[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},a=self["webpackChunkfood_search_service"]=self["webpackChunkfood_search_service"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(675)}));a=s.O(a)})();
//# sourceMappingURL=app.1faf2e06.js.map